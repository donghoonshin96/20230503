<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>과제</title>
</head>

<body>
    <h1>
        구구단 영역(2*1=2 ~9*9=81)내에서 랜덤으로 문제를 내면 정답을 맞추는 로직
    </h1>

    <h1>
        <button type="button" id="startBtn">문제출제</button>
    </h1>
    <ol id="q"></ol>
    <h1>
        <button type="button" id="compareBtn">정답확인</button>
    </h1>
    <h3 id="printRatio"></h3>
    <script>
        function makeRandomDan() {
            return Math.floor(Math.random() * 8) + 2; // 2~9단까지 생성
        }
        function makeRandomIncrease() {
            return Math.floor(Math.random() * 9) + 1; // 1~9 값을 랜덤 생성
        }

        let count = 0;
        let correct = 0;
        let answer = [];

        document.querySelector('#startBtn').addEventListener('click', function () {
            document.querySelector('#q').innerHTML = '';
            answer = [];
            for (let i = 0; i < 10; i++) {
                let dan = makeRandomDan();
                let increase = makeRandomIncrease();
                let result = dan * increase;
                answer.push(result);
                document.querySelector('#q').innerHTML += `<li>${dan} * ${increase} = <input type='text' id='a${i}'></li>`;
            }
        });

        document.querySelector('#compareBtn').addEventListener('click', function () {
            correct = 0;
            for (let i = 0; i < 10; i++) {
                if (answer[i] == document.querySelector(`#a${i}`).value) {
                    correct++;
                    document.querySelector(`#a${i}`).style.backgroundColor = 'green';
                } else {
                    document.querySelector(`#a${i}`).style.backgroundColor = 'red';
                }
            }
            document.querySelector('#printRatio').innerHTML = `정답률 : ${correct / 10 * 100}%`;
        });
    </script>
</body>

</html>